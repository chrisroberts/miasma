<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Miasma
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><pre class="code ruby"><code class="ruby"> <span class='id identifier rubyid_███▄'>███▄</span> <span class='id identifier rubyid_▄███▓'>▄███▓</span> <span class='id identifier rubyid_██▓'>██▓</span> <span class='id identifier rubyid_▄▄▄'>▄▄▄</span>        <span class='id identifier rubyid_██████'>██████</span>  <span class='id identifier rubyid_███▄'>███▄</span> <span class='id identifier rubyid_▄███▓'>▄███▓</span> <span class='id identifier rubyid_▄▄▄'>▄▄▄</span>
<span class='id identifier rubyid_▓██▒▀█▀'>▓██▒▀█▀</span> <span class='id identifier rubyid_██▒▓██▒▒████▄'>██▒▓██▒▒████▄</span>    <span class='id identifier rubyid_▒██'>▒██</span>    <span class='id identifier rubyid_▒'>▒</span> <span class='id identifier rubyid_▓██▒▀█▀'>▓██▒▀█▀</span> <span class='id identifier rubyid_██▒▒████▄'>██▒▒████▄</span>
<span class='id identifier rubyid_▓██'>▓██</span>    <span class='id identifier rubyid_▓██░▒██▒▒██'>▓██░▒██▒▒██</span>  <span class='id identifier rubyid_▀█▄'>▀█▄</span>  <span class='id identifier rubyid_░'>░</span> <span class='id identifier rubyid_▓██▄'>▓██▄</span>   <span class='id identifier rubyid_▓██'>▓██</span>    <span class='id identifier rubyid_▓██░▒██'>▓██░▒██</span>  <span class='id identifier rubyid_▀█▄'>▀█▄</span>
<span class='id identifier rubyid_▒██'>▒██</span>    <span class='id identifier rubyid_▒██'>▒██</span> <span class='id identifier rubyid_░██░░██▄▄▄▄██'>░██░░██▄▄▄▄██</span>   <span class='id identifier rubyid_▒'>▒</span>   <span class='id identifier rubyid_██▒▒██'>██▒▒██</span>    <span class='id identifier rubyid_▒██'>▒██</span> <span class='id identifier rubyid_░██▄▄▄▄██'>░██▄▄▄▄██</span>
<span class='id identifier rubyid_▒██▒'>▒██▒</span>   <span class='id identifier rubyid_░██▒░██░'>░██▒░██░</span> <span class='id identifier rubyid_▓█'>▓█</span>   <span class='id identifier rubyid_▓██▒▒██████▒▒▒██▒'>▓██▒▒██████▒▒▒██▒</span>   <span class='id identifier rubyid_░██▒'>░██▒</span> <span class='id identifier rubyid_▓█'>▓█</span>   <span class='id identifier rubyid_▓██▒'>▓██▒</span>
<span class='id identifier rubyid_░'>░</span> <span class='id identifier rubyid_▒░'>▒░</span>   <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░░▓'>░░▓</span>   <span class='id identifier rubyid_▒▒'>▒▒</span>   <span class='id identifier rubyid_▓▒█░▒'>▓▒█░▒</span> <span class='id identifier rubyid_▒▓▒'>▒▓▒</span> <span class='id identifier rubyid_▒'>▒</span> <span class='id identifier rubyid_░░'>░░</span> <span class='id identifier rubyid_▒░'>▒░</span>   <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░'>░</span> <span class='id identifier rubyid_▒▒'>▒▒</span>   <span class='id identifier rubyid_▓▒█░'>▓▒█░</span>
<span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░'>░</span>      <span class='id identifier rubyid_░'>░</span> <span class='id identifier rubyid_▒'>▒</span> <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_▒'>▒</span>   <span class='id identifier rubyid_▒▒'>▒▒</span> <span class='id identifier rubyid_░░'>░░</span> <span class='id identifier rubyid_░▒'>░▒</span>  <span class='id identifier rubyid_░'>░</span> <span class='id identifier rubyid_░░'>░░</span>  <span class='id identifier rubyid_░'>░</span>      <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_▒'>▒</span>   <span class='id identifier rubyid_▒▒'>▒▒</span> <span class='id identifier rubyid_░'>░</span>
<span class='id identifier rubyid_░'>░</span>      <span class='id identifier rubyid_░'>░</span>    <span class='id identifier rubyid_▒'>▒</span> <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░'>░</span>   <span class='id identifier rubyid_▒'>▒</span>   <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░'>░</span>      <span class='id identifier rubyid_░'>░</span>     <span class='id identifier rubyid_░'>░</span>   <span class='id identifier rubyid_▒'>▒</span>
       <span class='id identifier rubyid_░'>░</span>    <span class='id identifier rubyid_░'>░</span>        <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░'>░</span>      <span class='id identifier rubyid_░'>░</span>         <span class='id identifier rubyid_░'>░</span>         <span class='id identifier rubyid_░'>░</span>  <span class='id identifier rubyid_░'>░</span>
</code></pre>

<h2>Overview</h2>

<p>Miasma is YACACL (Yet Another Cloud API Client Library). Instead of
attempting to cover all the functionalities of all the different
cloud and virt APIs, miasma is focused on providing a common modeling
that will &quot;just work&quot;. This means there may be many things that seem
to be missing, but that&#39;s probably okay. Consistency is more important
than overall completeness. Miasma isn&#39;t trying to be a replacement
for libraries like fog, rather it&#39;s attempting to supplement those
libraries by providing a consistent modeling API.</p>

<h2>Usage</h2>

<h3>Example</h3>

<p>Lets have a look at using the compute model:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_compute'>compute</span> <span class='op'>=</span> <span class='const'>Miasma</span><span class='period'>.</span><span class='id identifier rubyid_api'>api</span><span class='lparen'>(</span>
  <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='symbol'>:compute</span><span class='comma'>,</span>
  <span class='symbol'>:provider</span> <span class='op'>=&gt;</span> <span class='symbol'>:aws</span><span class='comma'>,</span>
  <span class='symbol'>:credentials</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
    <span class='symbol'>:aws_secret_access_key</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SECRET</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:aws_access_key_id</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>KEY_ID</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:aws_region</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>us-west-2</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span>
<span class='rparen'>)</span>
</code></pre>

<p>With this we can now list existing servers:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_compute'>compute</span><span class='period'>.</span><span class='id identifier rubyid_servers'>servers</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
</code></pre>

<p>This will provide an array of <code>Miasma::Models::Compute::Server</code>
instances. It will also cache the result so subsequent calls
will not require another API call. The list can be refreshed
by requesting a reload:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_compute'>compute</span><span class='period'>.</span><span class='id identifier rubyid_servers'>servers</span><span class='period'>.</span><span class='id identifier rubyid_reload'>reload</span>
</code></pre>

<h3>Switching providers</h3>

<p>Switching providers requires modification to the API parameters:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_compute'>compute</span> <span class='op'>=</span> <span class='const'>Miasma</span><span class='period'>.</span><span class='id identifier rubyid_api'>api</span><span class='lparen'>(</span>
  <span class='symbol'>:provider</span> <span class='op'>=&gt;</span> <span class='symbol'>:rackspace</span><span class='comma'>,</span>
  <span class='symbol'>:credentials</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
    <span class='symbol'>:rackspace_username</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>USER</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:rackspace_api_key</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>KEY</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:rackspace_region</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>REGION</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span>
<span class='rparen'>)</span>
</code></pre>

<p>The <code>compute</code> API will act exactly the same as before, now using
Rackspace instead of AWS.</p>

<h2>Design Objectives</h2>

<p>This library is following a few simple objectives:</p>

<ul>
<li>Light weight</li>
<li>Consistent API</li>
</ul>

<p>The availabile API is defined first via the models,
then concrete implementations are built via available
provider interfaces. This means the provider code is
structured to support the models instead of the models
being built around specific providers. The result is
a clean model interface providing consistency regardless
of the provider backend.</p>

<p>The &quot;weight&quot; of the library is kept light by using a
few simple approaches. All code is lazy loaded, so nothing
will be loaded into the runtime until it is actually required.
Dependencies are also kept very light, to reduce the number
of required libraries needing to be loaded. Parser wrapping
libraries are also used (<code>multi_json</code> and <code>multi_xml</code>) allowing
a choice of actual parsing backends in use. This removes
dependencies on nokogiri unless it&#39;s actually desired and
increases installation speeds.</p>

<h2>Features</h2>

<h3>Thin Models</h3>

<p>Thin models are a stripped down model that provides a subset
of information that an actual instance of the model may
contain. For instance, an <code>AutoScale::Group</code> may contain
a list of <code>Compute::Server</code>s. The collection provided within
the <code>AutoScale::Group</code> will be created via the resulting
API information on the group itself. However, since
we can provide expected mappings to what API provides
<code>Compute</code> and know these instances will be within the
<code>servers</code> collection, we can use the <code>#expand</code> helper to
automatically load the full instance:</p>

<pre class="code ruby"><code class="ruby">auto_scale = Miasma.api(:type =&gt; :auto_scale, :provider ...)
group = auto_scale.groups.first

# this list will provide the `ThinModel` instances:
p group.servers.all

# this list will provide the full instances:
p group.servers.all.map(&amp;:expand)
</code></pre>

<h3>Automatic API switching</h3>

<p>Resources within a specific provider can span multiple
API endpoints. To deal with this, the provider API
implemenetations provide an <code>#api_for</code> method which
will automatically build a new API instance. This
allows Miasma to hop APIs under the hood to expand
<code>ThinModels</code> as shown above.</p>

<h2>Current status</h2>

<p>Miasma is currently under active development and is
in a beta state. Models are still being implemented
and spec coverage is following closely behind the
model completions.</p>

<h3>Currently Supported Providers</h3>

<p>Coverage currently varies from provider to provider
based on functionality restrictions and in progress
implementation goals. The README on each library
should provide a simple feature matrix for a quick
check on support availability:</p>

<ul>
<li><a href="https://github.com/miasma-rb/miasma-aws">AWS</a></li>
<li><a href="https://github.com/miasma-rb/miasma-rackspace">Rackspace</a></li>
<li><a href="https://github.com/miasma-rb/miasma-open-stack">OpenStack</a></li>
<li><a href="https://github.com/miasma-rb/miasma-local">Local</a></li>
</ul>

<h2>Info</h2>

<ul>
<li>Repository: <a href="https://github.com/miasma-rb/miasma">https://github.com/miasma-rb/miasma</a></li>
</ul>
</div></div>

    <div id="footer">
  Generated on Sun Jan 11 07:08:47 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.2).
</div>

  </body>
</html>